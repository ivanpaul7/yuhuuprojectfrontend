<div class="container content" *ngIf="applicant">
  <div class="top-gradient-div">
    <div class="row">
      <div class="col-sm-12 image-wrapper">
        <img ng-show="applicant.contact.photo.url" src={{applicant.contact.photo.url}} alt="..." class="profile-pic"
             onerror="this.onerror=null;this.src='https://i0.wp.com/www.winhelponline.com/blog/wp-content/uploads/2017/12/user.png?fit=256%2C256&quality=100&ssl=1';">
      </div>
    </div>
  </div>
  <mat-card class="example-card">
    <mat-card-content>
      <div class="row" style="padding-bottom: 20px">
        <div class="col-md-6">
          <div class="col-sm-12 name-wrapper">
            <h1>{{applicant.firstName}} {{applicant.lastName}}</h1>
          </div>
          <div class="col-sm-12" style="text-align: left">
            <h5>{{applicant.birthday| date : "yyyy-MM-dd" }}</h5>
          </div>
        </div>
        <div class="col-md-6">
        </div>
      </div>
      <div class="row" style="margin-bottom: 5px">
        <div class="col-sm-3">
          <button class="edit-button" mat-raised-button (click)="openCV()">
            <mat-icon>attach_file</mat-icon>
            View CV
          </button>
        </div>
        <div class="col-sm-3">
          <button mat-raised-button *ngIf="isHisProfile" class="edit-button" (click)="openBasicEditDialog()">
            <i class='fa fa-2x fa-edit'></i>
            Edit
          </button>
        </div>
        <div class="col-sm-3">
          <!--Photo upload-->
          <input class="input-file"
                 type="file" (change)="onPhotoFileChanged($event)"
                 #fileInput2>
          <button mat-raised-button *ngIf="isHisProfile" class="edit-button upload-button"
                  (click)="fileInput2.click()">
            <mat-icon>add_a_photo</mat-icon>
            Upload Photo
          </button>
        </div>
        <div class="col-sm-3">
          <!--CV upload-->
          <input class="input-file"
                 type="file" (change)="onCVFileChanged($event)"
                 #fileInput>
          <button mat-raised-button *ngIf="isHisProfile" class="edit-button upload-button"
                  (click)="fileInput.click()">
            <mat-icon>attach_file</mat-icon>
            Upload CV
          </button>
        </div>
      </div>
      <div class="divider">
        <mat-divider></mat-divider>
      </div>
      <div class="row">
        <div class="col-sm-12">
          <p class="p-lg-4">{{applicant.description}}</p>
        </div>
      </div>
    </mat-card-content>
  </mat-card>

  <mat-card class="example-card">
    <mat-card-header>
      <div class="card-title-wrapper">
        <mat-card-title>
          <h2>Contact</h2>
        </mat-card-title>
      </div>
      <div class="float-right">
        <button mat-raised-button *ngIf="isHisProfile" (click)="openContactEditDialog()">Edit</button>
      </div>
    </mat-card-header>
    <mat-card-content class="fixed-font">
      <div class="row">
        <div class="col-sm-12 col-md-2 ">
          <h5>Phone:</h5>
        </div>
        <div class="col-sm-12 col-md-10">
          <p>{{applicant.contact.phoneNumber}}</p>
        </div>
      </div>
      <div class="row">
        <div class="col-sm-12 col-md-2 ">
          <h5>Email:</h5>
        </div>
        <div class="col-sm-12 col-md-10">
          <p>{{applicant.user.email}}</p>
        </div>
      </div>
      <div class="row">
        <div class="col-sm-12 col-md-2 ">
          <h5>Linkedin:</h5>
        </div>
        <div class="col-sm-12 col-md-10">
          <p><a href="{{applicant.contact.linkedinLink}}"> {{applicant.contact.linkedinLink}}</a></p>
        </div>
      </div>
      <div class="row">
        <div class="col-sm-12 col-md-2 ">
          <h5>Facebook:</h5>
        </div>
        <div class="col-sm-12 col-md-10">
          <p><a href={{applicant.contact.facebookLink}}> {{applicant.contact.facebookLink}}</a></p>
        </div>
      </div>
      <div class="row">
        <div class="col-sm-12 col-md-2 ">
          <h5>Website:</h5>
        </div>
        <div class="col-sm-12 col-md-10">
          <p><a href={{applicant.contact.website}}> {{applicant.contact.website}}</a></p>
        </div>
      </div>
      <div class="divider">
        <mat-divider></mat-divider>
      </div>
      <div class="row">
        <div class="col-sm-12">
          <h4>Adress</h4>
        </div>
      </div>
      <div class="row">
        <div class="col-sm-12 col-md-2 ">
          <h5>Country:</h5>
        </div>
        <div class="col-sm-12 col-md-10">
          <p>{{applicant.contact.address.country}}</p>
        </div>
      </div>
      <div class="row">
        <div class="col-md-6 col-lg-2 ">
          <h5>City:</h5>
        </div>
        <div class="col-md-6 col-lg-4">
          <p>{{applicant.contact.address.town}}</p>
        </div>
        <div class="col-md-6 col-lg-2 ">
          <h5>County:</h5>
        </div>
        <div class="col-md-6 col-lg-4">
          <p>{{applicant.contact.address.county}}</p>
        </div>
      </div>
      <div class="row">
        <div class="col-md-6 col-lg-2 ">
          <h5>Street:</h5>
        </div>
        <div class="col-md-6 col-lg-4">
          <p>{{applicant.contact.address.street}}</p>
        </div>
        <div class="col-md-6 col-lg-2 ">
          <h5>Number:</h5>
        </div>
        <div class="col-md-6 col-lg-4">
          <p>{{applicant.contact.address.number}}</p>
        </div>
      </div>
    </mat-card-content>
  </mat-card>

  <mat-card class="example-card">
    <mat-card-header>
      <div class="card-title-wrapper">
        <mat-card-title>
          <h2>Education</h2>
        </mat-card-title>
      </div>
      <div class="float-right">
        <button mat-icon-button color="primary" *ngIf="isHisProfile" (click)="openAddEducationDialog()">
          <mat-icon>add_circle</mat-icon>
        </button>
      </div>
    </mat-card-header>
    <mat-card-content>
      <mat-list>
        <mat-list-item *ngFor="let education of educationList; let lastItem = last;">
          <div class="card-title-wrapper">
            <app-education [education]=education></app-education>
          </div>
          <div class="float-right">
            <button mat-icon-button color="warn" (click)="deleteEducation(education.id)">
              <mat-icon>delete_outline</mat-icon>
            </button>
          </div>
          <mat-divider *ngIf="!lastItem"></mat-divider>
        </mat-list-item>
      </mat-list>
    </mat-card-content>
  </mat-card>

  <mat-card class="example-card">
    <mat-card-header>
      <div class="card-title-wrapper">
        <mat-card-title>
          <h2>Skills</h2>
        </mat-card-title>
      </div>
      <div class="float-right">
        <button mat-icon-button color="primary" *ngIf="isHisProfile" (click)="openAddSkillDialog()">
          <mat-icon>add_circle</mat-icon>
        </button>
      </div>
    </mat-card-header>
    <mat-card-content>
      <mat-list>
        <mat-list-item *ngFor="let skill of skillsList; let lastItem = last;">
          <div class="card-title-wrapper skill-item">
            <p>{{skill.name}}</p>
          </div>
          <div class="float-right skill-button">
            <button mat-icon-button color="warn" (click)="deleteSkill(skill.id)">
              <mat-icon>delete_outline</mat-icon>
            </button>
          </div>
          <mat-divider *ngIf="!lastItem"></mat-divider>
        </mat-list-item>
      </mat-list>
    </mat-card-content>
  </mat-card>

</div>
